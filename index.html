<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linked Data Explorer</title>
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <div class="controls">
      <div class="field datalist">
        <label>Resource URI (type to search)</label>
        <input id="uri" list="suggestions" placeholder="e.g. https://n2t.net/ark:/60537/b0003V" value="https://n2t.net/ark:/60537/b0003V" autocomplete="off" />
        <datalist id="suggestions"></datalist>
        <div class="small">Tips: paste a full URI or type part of it. <span class="kbd">Enter</span> to load. Double‑click a node to expand.</div>
      </div>
      <div class="field">
        <label>Class selector</label>
        <select id="class-selector">
          <option value="">Select a class to use in uri lookup</option>
        </select>
        <div class="small">The selected class will be used in the URI auto-suggest.</div>
      </div>
      <button id="load" class="primary">Load</button>
    </div>
    <div class="header-actions">
      <button id="endpoint-dialog-open" type="button" class="icon-button settings-button" title="Manage SPARQL endpoint" aria-haspopup="dialog" aria-expanded="false">SPARQL endpoint</button>
      <button id="theme-toggle" type="button" class="icon-button" title="Switch to light theme" aria-label="Toggle theme">Light mode</button>
    </div>
  </header>

  <div id="endpoint-dialog" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="endpoint-dialog-title">
    <div class="modal-overlay" data-close="true"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="endpoint-dialog-title">SPARQL endpoint</h2>
        <button id="endpoint-dialog-close" type="button" class="secondary">Done</button>
      </div>
      <div class="modal-body">
        <div class="field">
          <label for="endpoint">Endpoint URL</label>
          <input id="endpoint" type="url" placeholder="eg. https://qlever.coret.org/gtm" />
        </div>
      </div>
      <div class="modal-footer">
        <button id="connect" class="secondary" type="button">Check endpoint</button>
      </div>
    </div>
  </div>

  <main>
    <svg id="graph"></svg>
    <aside id="panel" class="hidden">
      <div id="panel-resizer" aria-hidden="true"></div>
      <div class="panel-header">
<!--        <div>
          <div class="panel-title" id="panel-title">—</div>
          <div class="tip" id="panel-tip">Subject details</div>
        </div> -->
        <button class="close" id="close-panel" aria-label="Close panel">X</button>
      </div>
      <div id="panel-body"></div>
    </aside>
  </main>

  <div class="legend" aria-hidden="true">
    <div class="item"><span class="dot" style="background: var(--color-node-uri)"></span> URI</div>
    <div class="item"><span class="dot" style="background: var(--color-node-bnode)"></span> Blank node</div>
    <div class="item"><span class="dot" style="background: var(--color-node-literal)"></span> Literal</div>
  </div>

  <script type="module" src="js/sparql.js"></script>
  <script type="module" src="js/app.js"></script>
</body>
</html>
